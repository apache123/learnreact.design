{"data":{"site":{"siteMetadata":{"title":"Learn React.Design Backstories","author":"Linton Ye"}},"markdownRemark":{"id":"/Users/lintonye/git-repos/learnreact.design/src/pages/posts/2017-08-16-components-props-state/2017-08-16-components-props-state.md absPath of file >>> MarkdownRemark","html":"<p><em>This series of posts will be the very first part of the <a href=\"http://learnreact.design/re4d/\">‚ÄúReact Essentials for Designers‚Äù course</a> I‚Äôm creating. <a href=\"http://learnreact.design/re4d/\">Sign up</a> now and receive exclusive updates!</em></p>\n<ul>\n<li><em><a href=\"/2017/06/08/what-is-react/\">What is React?</a></em></li>\n<li><em><a href=\"/2017/06/20/what-is-react-native\">What is React Native?</a></em></li>\n<li><em>React Native vs. Hybrids (coming soon)</em></li>\n<li><em>Components, Props and State (this post)</em></li>\n</ul>\n<hr>\n<p>Today let‚Äôs study the three most important concepts in React: components, props and state, and the differences between props and state.</p>\n<p>As in previous posts, I‚Äôll attempt to use plain English to explain the concepts. So, no JavaScript knowledge is required to read this post. </p>\n<p>In fact, you won‚Äôt find any JavaScript code here at all. Instead, I‚Äôll use a simple notation <sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup> to help you understand the main ideas first before diving into JavaScript (in future posts). I believe this spoon-feeding ü•Ñ approach is an effective way to learn React (or any technologies) especially if you don‚Äôt have much programming experience ‚Äî mixing React concepts and JavaScript subtleties can be quite overwhelming!</p>\n<a name=\"learning-goals\">\n<h1>Learning Goals</h1>\n<p>After reading this post, I‚Äôll get you to come back here. Hopefully you‚Äôll be able to answer these questions easily:</p>\n<ul>\n<li>What is a prop?</li>\n<li>What is state?</li>\n<li>When to use props and when to use state?</li>\n<li>How to make the window openable?</li>\n<li>Can you write the psedocode for <a href=\"/2017/06/08/what-is-react/#domo-hat\">Domo‚Äôs hat</a>?</li>\n</ul>\n<h1>Let‚Äôs build a house</h1>\n<p>To understand what these concepts are and how to use them, let‚Äôs build a simple example. What about a house? (Try clicking the door)</p>\n<p data-height=\"480\" data-theme-id=\"light\" data-slug-hash=\"EXBOpx\" data-default-tab=\"result\" data-user=\"focuser\" data-embed-version=\"2\" data-pen-title=\"React House\" class=\"codepen\">See the Pen <a href=\"https://codepen.io/focuser/pen/EXBOpx/\">React House</a> by focuser (<a href=\"https://codepen.io/focuser\">@focuser</a>) on <a href=\"https://codepen.io\">CodePen</a>.</p>\n<script async src=\"https://production-assets.codepen.io/assets/embed/ei.js\"></script>\n<h1>Components</h1>\n<p>If you remember what we‚Äôve discussed in an <a href=\"/2017/06/08/what-is-react/\">early post</a>, components are one of the three pillars of React. Building an app in React is almost all about working with components.</p>\n<p>The very first step is to break down the UI into various components. For example, we can break down our house this way:</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1-house-components-fb412ee12e451ff23d407372bfb6d2b7-dc9cd.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block; ; max-width: 550px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 72.72727272727273%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAACVElEQVQoz2P4+P7xwxPhT04Gfnxz4T+JgOHaTqu7W1jPrWS/d8iTZM2nN9nc38r67gDTtVOdyBIfP368f//++/fvP75/t2dWw765rX///kXX/Pbdm3s3Nl+9egxZ9PHjxzdv3nzw7Pmde/cvXbxY5iRT7Kr8588fdM0QCmjqh48f//z9C1Tx9OnTt2/fbjl+Zu65u4vO3b7+4NHlo7unlURhcTYy59iJk3fu3Hn26vXyk5eX3X694t47IFp68+WOS7cePnr88uXLnz9/Ytf85cuX69ev7zl7acHF+xBtyGjRmRvX79x9+PDhxw/P71+edffGbnSbgf6cdvzq5N1Hezds69uwbe6ZmxN2H2tavLplxcb+nUeWHTsP9M7t3fqfjzC93sf84MY6hltnOl49OQzR/OLFiwVXHheFWddYsnXastT2dJZ1T5q5bPOkOcsruyetPX8TqObwKqNTy9k3T+M+fmgOw+3NrGdWi/z48R0o8fz584VXnxQFm9VastVZsdb3djbNWLTjzP01u04W1LXO2HUYGJzv3z54dn3SsxvT//75xXB5LduuJeafPr3/+u3byTNn5164n+etU2/FWmvL0zR5QkpRaXpmVlpqalRiwsy9J9BD+8WL+79hEQgMs6b9F6sCdbttWaY5MhX39E68+nLilRdA1H/5edu2o/ii6syZMzHdMyM8zOJtFXM8NDMryus2HWzZebJpw77mzQc71+44ffo0Ts3//v2DMJ4+f/H79+8PLw7dOxL07ulunGkbl8SvX7/3rY8+vIjj1PYIXGoAJ9PokXyV1R0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"house break down\"\n        title=\"\"\n        src=\"/static/1-house-components-fb412ee12e451ff23d407372bfb6d2b7-dc9cd.png\"\n        srcset=\"/static/1-house-components-fb412ee12e451ff23d407372bfb6d2b7-114c3.png 148w,\n/static/1-house-components-fb412ee12e451ff23d407372bfb6d2b7-bcdb0.png 295w,\n/static/1-house-components-fb412ee12e451ff23d407372bfb6d2b7-dc9cd.png 550w\"\n        sizes=\"(max-width: 550px) 100vw, 550px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Now let‚Äôs code it!</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-html\"><code>House:\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Roof</span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Wall</span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Window</span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Door</span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n      </div>\n<p>Wait a second, isn‚Äôt that some sort of HTML? That‚Äôs right! Some parts of React code look very similar to HTML, and that, by design, is to make it easy for web designers to understand and write the code. How nice is that!</p>\n<p>So, in the code above, we have the <code>&#x3C;div></code> container which is pretty much the same as in HTML. Things like <code>Roof</code> and <code>Wall</code> are custom tags/components that we are going to define soon.</p>\n<p>Remind you, the above isn‚Äôt exactly real React code ‚Äî there‚Äôs no JavaScript at all. For now, let me just use loose syntax and plain English to explain what‚Äôs in there. Once you understand the ideas behind the scene, the next step is to learn the nitty gritty of JavaScript and convert the ideas into real code.</p>\n<p>To make things easier to understand, I‚Äôll use another simplification: instead of using images as you saw at the beginning of this post, for now let‚Äôs make a super simple web app that displays plain text for everything.</p>\n<p>The roof is just a div with some plain text:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-html\"><code>Roof:\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>roof<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n      </div>\n<p>Other components are the same ‚Äî they are just plain text inside a HTML div. Let‚Äôs look at the complete, React-ish code for our house:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-html\"><code>House:\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Roof</span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Wall</span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Window</span> <span class=\"token punctuation\">/></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Door</span> <span class=\"token punctuation\">/></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>  \n\nRoof:\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>roof<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\nWall:\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>wall<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\nWindow:\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>window<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\nDoor:\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>door<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n      </div>\n<p>This is not hard to understand, right? House is made up of Roof, Wall, Window and Door, which are all made up of plain text.</p>\n<p>In the end, React will generate HTML like this:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-html\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>roof<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>wall<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>windows<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>door<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n      </div>\n<h1>Configure roof color with Props</h1>\n<p>Imagine that we send a sheet of specification to a factory where all the individual parts are built. In the specification, we can tell the factory about the intrinsic properities of the parts: the color of the roof, the shape of the door etc. After the roof and the door are built according to our request, those properties will stay the same. So the roof remains blue, and the door remains a rectangle. They won‚Äôt change at all.</p>\n<p>In React, we call these properties <em>Props</em> which is basically short for properties. Remember two things about props: first, we determine the value of a prop and use it as part of the blueprint BEFORE a component is built. Second, the value of a prop will never change.</p>\n<p>So how does a prop look like in the code? In the House component, if we want our roof to be blue, we can simply add a prop ‚Äúcolor‚Äù to the Roof tag. This is like specifying the color in the specification to be sent to the factory.</p>\n<p>It looks very similiar to HTML tags where where you can add attributes:  </p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-html\"><code>House:\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Roof</span> <span class=\"token attr-name\">color</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>blue<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span>\n    ...\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n      </div>\n<p>How is the roof actually built? Let‚Äôs write the code for it.</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-html\"><code>Roof:\n\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>{props.color} roof<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n      </div>\n<p>That‚Äôs it? Right! There are a few things worth mentioning here:</p>\n<ul>\n<li>The HTML-ish code that defines a component is a <strong>template</strong>, not just a single HTML tag. This means we can put <em>placeholders</em> in it to output variations of HTML content without repeating ourselves. (Remember <a href=\"/images/what-is-react/09-thinker-with-hat.png\">this picture of Domo‚Äôs hat</a>? That‚Äôs the idea of placeholders!) In this example, for <code>&#x3C;Roof color=\"blue\" /></code>, we‚Äôll get <code>&#x3C;div>blue roof&#x3C;div></code>; for <code>&#x3C;Roof color=\"red\" /></code>, we‚Äôll get <code>&#x3C;div>red roof&#x3C;/div></code>, so on and so forth.</li>\n<li>The curly brackets used in the template tells React that we are gonna use a placeholder here, instead of plain content.</li>\n<li><code>props</code> can be think of as a container of all the prop values set in the <code>Roof</code> tag. So suppose we have <code>&#x3C;Roof color=\"blue\" material=\"wood\" /></code>, we can then use both <code>props.color</code> and <code>props.material</code> in the definition of the <code>Roof</code> component.</li>\n</ul>\n<h1>Open the door with State</h1>\n<h2>Add state to a component</h2>\n<p>Another thing that a component can have is called <em>state</em>. What is a state? It‚Äôs something that can change AFTER a component is built.</p>\n<p>For example, the door can be either open or closed. We say the status of the door is a state because its value can change even after the door is built. This is different from a prop like the shape of the door which does not change once the door is created.</p>\n<p>The change of a state value is often caused by some external event. For a web app, it‚Äôs usually user input, or data from a server or the passage of time that‚Äôd change the state of a component.</p>\n<p>Let‚Äôs add the state to the door:</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-html\"><code>Door:\n  State:\n    status   // \"open\" or \"closed\"\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>Door is {state.status}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n</code></pre>\n      </div>\n<p>Very similar to <code>props</code>, <code>state</code> is a container of all the state values in the component. Therefore, we can use <code>state.[something]</code> inside the template in the component definition.</p>\n<h2>Change the state on user input</h2>\n<p>Next, let‚Äôs make the door interactive by adding some ‚Äúcode‚Äù that handles user input.</p>\n<p>{% highlight jsx %}\nDoor:\nState:\nstatus   // ‚Äúopen‚Äù or ‚Äúclosed‚Äù</p>\n  <div>Door is {state.status}</div>\n  // Handle user input\n  when the door is pulled\n    change state.status to \"open\"\n  when the door is pushed\n    change state.status to \"closed\"\n{% endhighlight %}\n<p>The key thing here is that the state of a component changes from time to time. The output of the template, i.e. the generated HTML, changes accordingly and automatically.</p>\n<p>BTW: Don‚Äôt forget that the above isn‚Äôt real React code. Don‚Äôt copy and paste it into your project! Things will get ugly‚Ä¶ üí£</p>\n<h2>State is private</h2>\n<p>The state is private to a component. Whether the door is open or closed is only the door‚Äôs business. It has nothing to do with the house, or other components. In fact we can just take the door out of the house, it can still be open or closed on its own.</p>\n<p>Therefore, the door‚Äôs state is only visible inside the Door component. Within the Door component, we can only read or change its own state.</p>\n<div class=\"gatsby-highlight\">\n      <pre class=\"language-html\"><code>House:\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Door</span> <span class=\"token punctuation\">/></span></span>\n    ...\n    <span class=\"token comment\">&lt;!-- This is WRONG --></span>\n    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span><span class=\"token punctuation\">></span></span>The door is {Door.state.status}<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span>\n\nWindow:\n  ...\n  <span class=\"token comment\">&lt;!-- This is WRONG --></span>\n  change Door.state.status to 'open'\n\nDoor:\n  ...\n  <span class=\"token comment\">&lt;!-- Man, this is WRONG too! --></span>\n  if House.state.isForSale\n    make the door openable by the realtor\n</code></pre>\n      </div>\n<h1>Conclusion</h1>\n<p>Here we go, that‚Äôs props and state. Props are configuration of a component whose values are determined before the component is created. Just like the shape of the door, or the color of the roof, props always stay the same. On the other hand, state is a component‚Äôs private data that‚Äôs available only after the component is created. Just like whether the door is open or closed, state changes from time to time. Usually it‚Äôs a response to user input, or something that happens on the server, or the passage of time.</p>\n<p>But, but, we haven‚Äôt built anything real, right? Plus, how useful is it to create an app that just displays plain text? I know, at least you want to see how to build the house that you see at the beginning of the post ‚Äî something colorful that you can click on, right?</p>\n<p>Not surprisingly, that requires JavaScript coding which would make this post too long. I‚Äôll leave it to future posts. If you don‚Äôt want to wait, sign up for <a href=\"/react-mini/\">my free email course</a> where things are taught in videos. The JavaScript fun starts at day 4!</p>\n<hr>\n<h1>Footnotes:</h1>\n<a name=\"endofpost\">\n<div class=\"footnotes\">\n<hr>\n<ol>\n<li id=\"fn-1\">\n<p>In techie terms, the notation that describes the main ideas but not real code is called <em>pseudocode</em>. It‚Äôs not meant for computers to execute. It‚Äôs a tool for us humans to formalize thoughts and communicate with others. Remember, pseudocode won‚Äôt work on a computer, it‚Äôs fairly <a href=\"https://encrypted.google.com/search?q=define:pseudo&#x26;hl=en\">pseudo</a>.</p>\n<a href=\"#fnref-1\" class=\"footnote-backref\">‚Ü©</a>\n</li>\n</ol>\n</div>","frontmatter":{"title":"Components, Props and State","date":"August 16, 2017"}}},"pathContext":{"slug":"2017/08/16/components-props-and-state"}}